<!-- 
    Copyright Â© 2024 - 2025 The Hinode Team / Mark Dumay. All rights reserved.
-->

{{/* Initialize arguments */}}
{{ $args := partial "utilities/InitArgs.html" (dict "structure" "background" "args" .)}}
{{ if or $args.err $args.warnmsg }}
    {{ partial (cond $args.err "utilities/LogErr.html" "utilities/LogWarn.html") (dict 
        "partial" "utilities/GetBackgroundStyle.html" 
        "msg"     "Invalid arguments"
        "details" ($args.errmsg | append $args.warnmsg)
        "file"    page.File
    )}}
{{ end }}

{{ $style := $args.class }}
{{ if and (not $args.err) $args.background }}
    {{ if and $args.background.subtle (not (hasPrefix $args.background.color "body")) }}
        {{- $style = printf "%s bg-%s-subtle" $style $args.background.color -}}
    {{ else if $args.background.color}}
        {{- $style = printf "%s bg-%s" $style $args.background.color -}}
    {{ end }}
{{ end }}

{{ return $style }}